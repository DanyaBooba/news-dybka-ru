# Special (Спешиал)

Special – прекрасное медиасообщество на темы программирования, техники и разработки. На
Special обсуждаются актуальные темы, раскрываются интересные статьи.

## Какие статьи публикуются

Медиасообщество Special открытое и бесплатное для каждого. В основе медиасообщества лежат прекрасные статьи, которые могут быть написаны любым пользователем.

## Инструкция по запуску локального сервера

1. Скопируйте репозиторий
2. В корне выполните команду `npm i`, если не установлен `NodeJS`, его нужно установить.
3. После успеха 2 пункта, выполните команду `gulp`, после чего запустится локальный сервер, где вы можете вносить изменения. Если `gulp` не установлен, его нужно установить.

## Как опубликовать статью

Добавление статьи на сайте медиасообщества Special невероятно простое. Чтобы добавить статью на сайт, вы можете использовать разные инструкции, основная инструкция описана на сайте.

### Инструкция по публикации статьи

[https://news.dybka.ru/about/post/](https://news.dybka.ru/about/post/).

### Другие способы, как добавить статью

Добавить статью вы можете 2-мя способами: самостоятельно и через администратора.

### Первый способ

Сначала нужно подготовить проект статьи. Это описано в инструкции по ссылке выше.

После успешной подготовки проекта, отправьте [пулл-реквеста](https://github.com/DanyaBooba/special-2024/pulls)
на данный репозиторий.

### Второй способ

Также подготавливаете проект статьи по инструкции по ссылке выше.

После проекта статьи, отправляете готовый проект статьи администратору.

Связь с администратором:

- [телеграм](https://ddybka.t.me)
- [вконтакте](https://vk.com/ddybka)
- [daniil@dybka.ru](mailto:daniil@dybka.ru)

## Преимущества

Быстрая работа медиасообщества, интересные и актуальные статьи, тёмная тема, доступность для всех пользователей – всё это и есть медиасообщество Special.

## Технологии

### Структура проекта

Проект содержит файлы корня (`gulpfile.js`, `LICENSE`, `package-lock.json`, `package.json`, `README.md`, `pages.json`) и
папку src. Из всех файлов корня нас интересует только `gulpfile.js` и `pages.json`.

В файле `gulpfile.js` описаны инструкции для сборки проекта. Если вы хотите модернизировать сборку проекта,
добавить новые задачи – вам следует описать новые инструкции в этом файле, и добавить условие их вызова.

После добавления новой статьи, следует добавить её в файл `pages.json`. При первой сборке данный файл автоматически
будет обновлен в папке продакшена.

Папка `src` – папка проекта, содержит описание сайта медиасообщества. Информация из данной папки используется для
формирования папки продакшена `dist`, именно данную папку следует использовать для выгрузки на сайт.

### Как работает медиасообщество

В основе медиасообщества Special лежит сборщик пакетов `Gulp`. В файле `gulpfile.js` находятся настройки сборщика пакетов.

Благодаря `Gulp` разработка и публикация проекта могут иметь удобный формат, что способствует быстрому развитию проекта.

### Где хранятся статьи проекта

Все статьи проекта хранятся в файле `pages.json` в корне проекта. Данный файл находится вне папки сборки, но перемещается по конечному пути: `/js/pages.json`.

Данный JSON-файл – массив объектов следующего вида:

```
{
    "id": "...",
    "title": "...",
    "class": "...",
    "link": "https://news.dybka.ru/...",
    "description": "...",
    "content": "...",
    "year_publish": "..."
}
```

Где:

- `id` – id-параметр, который применяется для фильтрации статей на странице темы
- `title` – название статьи
- `class` – класс статьи (Игры, Проекты, Техника...)
- `link` – полная ссылка статьи (в исходном коде страниц используется путь до ресурса)
- `description` – описание статьи
- `content` – полное содержимое статьи (только уникальный контент, здесь не содержится вспомогательный контент)
- `year_publish` – год публикации статьи.

### Страницы

Страницы проекта формируются на основе шаблонов в папке layouts. Шаблоны и страницы представляют собой файлы Nunjucks с расширением HTML.

Nunjucks – язык шаблонов для JavaScript, с их помощью можно использовать шаблоны, подключать файлы, создавать переменные и многое другое.

В итоге, страницы проекта будут представлять собой собранные и сжатые файлы HTML.

### Папка app

Внутри папки app хранится техническая часть проекта: медиафайлы, CSS-стили, JS скрипты и различные другие файлы.
Содержимое папки app будет собрано в корне проекта.

### Сборка папки app

CSS стили в папке app/css будут собраны в 1 файл: `index.css` и сжаты, в папке `app/css/\_static` файлы будут только сжаты.

JS скрипты, шрифты никак не модифицируются. Картинки перемещаются в 2 задачи: перемещение из папки `app/img` и из папок страниц `posts/\*`.

Папка `app/more` содержит вспомогательные файлы проекта.

### Sitemap, feed, Яндекс Турбо

Такие файлы как `sitemap.xml`, `rss.xml` и `turbo.xml` формируются автоматически с помощью файла статей `pages.json` и npm модулей `gulp-sitemap`,
`@zadkiel/gulp-feed`, `turbo-rss`.

Sitemap формируется на основе папок проекта `pages`, `posts` и корня.

RSS-лента формируется на основе данных из файла `pages.json`.

## Лицензии

Автор проекта: Даниил Дыбка

- [телеграм](https://ddybka.t.me)
- [daniil@dybka.ru](mailto:daniil@dybka.ru)
